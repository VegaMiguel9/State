{"code":"(this[\"webpackJsonpmern-client\"]=this[\"webpackJsonpmern-client\"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){\"use strict\";n.r(t);var c=n(0),r=n.n(c),a=n(52),i=n.n(a),s=(n(91),n(7)),o=n(17),l=n(6),d=n(82),j=n(113),u=n(115),b=n(112),O=n(80),h=n(83);function p(e,t){return 1===t?e:e+\"s\"}function m(e,t,n){return new Promise((function(c,r){var a,i,s,o=window.indexedDB.open(\"shop-shop\",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore(\"products\",{keyPath:\"_id\"}),t.createObjectStore(\"categories\",{keyPath:\"_id\"}),t.createObjectStore(\"cart\",{keyPath:\"_id\"})},o.onerror=function(e){console.log(\"There was an error\")},o.onsuccess=function(r){switch(a=o.result,i=a.transaction(e,\"readwrite\"),s=i.objectStore(e),a.onerror=function(e){console.log(\"error\",e)},t){case\"put\":s.put(n),c(n);break;case\"get\":var l=s.getAll();l.onsuccess=function(){c(l.result)};break;case\"delete\":s.delete(n._id);break;default:console.log(\"No valid method\")}i.oncomplete=function(){a.close()}}}))}var f=\"UPDATE_PRODUCTS\",x=\"ADD_TO_CART\",g=\"ADD_MULTIPLE_TO_CART\",v=\"REMOVE_FROM_CART\",y=\"UPDATE_CART_QUANTITY\",w=\"TOGGLE_CART\",_=\"UPDATE_CATEGORIES\",k=\"UPDATE_CURRENT_CATEGORY\",N=n(19),C=n(2);var S,T,E,A,$,I=function(e){var t=Object(N.c)((function(e){return e})),n=Object(N.b)(),c=t.cart,r=e.image,a=e.name,i=e._id,l=e.price,d=e.quantity;return Object(C.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(C.jsxs)(o.b,{to:\"/products/\".concat(i),children:[Object(C.jsx)(\"img\",{alt:a,src:\"/images/\".concat(r)}),Object(C.jsx)(\"p\",{children:a})]}),Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(\"div\",{children:[d,\" \",p(\"item\",d),\" in stock\"]}),Object(C.jsxs)(\"span\",{children:[\"$\",l]})]}),Object(C.jsx)(\"button\",{onClick:function(){var t=c.find((function(e){return e._id===i}));t?(n({type:y,_id:i,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),m(\"cart\",\"put\",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(n({type:x,product:Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})}),m(\"cart\",\"put\",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:1})))},children:\"Add to cart\"})]})},D=n(28),Q=n(114),P=Object(Q.a)(S||(S=Object(D.a)([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),R=Object(Q.a)(T||(T=Object(D.a)([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"]))),F=(Object(Q.a)(E||(E=Object(D.a)([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"]))),Object(Q.a)(A||(A=Object(D.a)([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])))),U=Object(Q.a)($||($=Object(D.a)([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"]))),L=n.p+\"static/media/spinner.7e729fec.gif\";var q=function(){var e=Object(N.c)((function(e){return e})),t=Object(N.b)(),n=e.currentCategory,r=Object(h.b)(P),a=r.loading,i=r.data,s=(null===i||void 0===i?void 0:i.products)||[];return Object(c.useEffect)((function(){i?(t({type:f,products:i.products}),i.products.forEach((function(e){m(\"products\",\"put\",e)}))):a||m(\"products\",\"get\").then((function(e){t({type:f,products:e})}))}),[i,a,t]),Object(C.jsxs)(\"div\",{className:\"my-2\",children:[Object(C.jsx)(\"h2\",{children:\"Our Products:\"}),s.length?Object(C.jsx)(\"div\",{className:\"flex-row\",children:(n?e.products.filter((function(e){return e.category._id===n})):e.products).map((function(e){return Object(C.jsx)(I,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(C.jsx)(\"h3\",{children:\"You haven't added any products yet!\"}),a?Object(C.jsx)(\"img\",{src:L,alt:\"loading\"}):null]})};var W=function(){var e=Object(N.c)((function(e){return e})),t=Object(N.b)(),n=e.categories,r=Object(h.b)(F),a=r.loading,i=r.data;return Object(c.useEffect)((function(){i?(t({type:_,categories:i.categories}),i.categories.forEach((function(e){m(\"categories\",\"put\",e)}))):a||m(\"categories\",\"get\").then((function(e){t({type:_,categories:e})}))}),[i,a,t]),Object(C.jsxs)(\"div\",{children:[Object(C.jsx)(\"h2\",{children:\"Choose a Category:\"}),n.map((function(e){return Object(C.jsx)(\"button\",{onClick:function(){var n;n=e._id,t({type:k,currentCategory:n})},children:e.name},e._id)}))]})},B=n(8),G=n(16),Y=n(14),M=n(10),H=function(e){var t=e.item,n=(Object(N.c)((function(e){return e})),Object(N.b)());return Object(C.jsxs)(\"div\",{className:\"flex-row\",children:[Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"img\",{src:\"/images/\".concat(t.image),alt:\"\"})}),Object(C.jsxs)(\"div\",{children:[Object(C.jsxs)(\"div\",{children:[t.name,\", $\",t.price]}),Object(C.jsxs)(\"div\",{children:[Object(C.jsx)(\"span\",{children:\"Qty:\"}),Object(C.jsx)(\"input\",{type:\"number\",placeholder:\"1\",value:t.purchaseQuantity,onChange:function(e){var c=e.target.value;\"0\"===c?(n({type:v,_id:t._id}),m(\"cart\",\"delete\",Object(s.a)({},t))):(n({type:y,_id:t._id,purchaseQuantity:parseInt(c)}),m(\"cart\",\"put\",Object(s.a)(Object(s.a)({},t),{},{purchaseQuantity:parseInt(c)})))}}),Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function(){return function(e){n({type:v,_id:e._id}),m(\"cart\",\"delete\",Object(s.a)({},e))}(t)},children:\"\\ud83d\\uddd1\\ufe0f\"})]})]})]})},J=n(33),z=n(32),V=n(66),K=n.n(V),X=new(function(){function e(){Object(J.a)(this,e)}return Object(z.a)(e,[{key:\"getProfile\",value:function(){return K()(this.getToken())}},{key:\"loggedIn\",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:\"isTokenExpired\",value:function(e){try{return K()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:\"getToken\",value:function(){return localStorage.getItem(\"id_token\")}},{key:\"login\",value:function(e){localStorage.setItem(\"id_token\",e),window.location.assign(\"/\")}},{key:\"logout\",value:function(){localStorage.removeItem(\"id_token\"),window.location.assign(\"/\")}}]),e}()),Z=(n(101),n(77)),ee=n(108),te=Object(Z.a)(\"pk_test_TYooMQauvdEDq54NiTphI7jx\"),ne=function(){var e=Object(N.c)((function(e){return e})),t=Object(N.b)(),n=Object(ee.a)(R),r=Object(M.a)(n,2),a=r[0],i=r[1].data;function s(){t({type:w})}return Object(c.useEffect)((function(){function n(){return(n=Object(Y.a)(Object(B.a)().mark((function e(){var n;return Object(B.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(\"cart\",\"get\");case 2:n=e.sent,t({type:g,products:Object(G.a)(n)});case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}e.cart.length||function(){n.apply(this,arguments)}()}),[e.cart.length,t]),Object(c.useEffect)((function(){i&&te.then((function(e){e.redirectToCheckout({sessionId:i.checkout.session})}))}),[i]),e.cartOpen?(console.log(e),Object(C.jsxs)(\"div\",{className:\"cart\",children:[Object(C.jsx)(\"div\",{className:\"close\",onClick:s,children:\"[close]\"}),Object(C.jsx)(\"h2\",{children:\"Shopping Cart\"}),e.cart.length?Object(C.jsxs)(\"div\",{children:[e.cart.map((function(e){return Object(C.jsx)(H,{item:e},e._id)})),Object(C.jsxs)(\"div\",{className:\"flex-row space-between\",children:[Object(C.jsxs)(\"strong\",{children:[\"Total: $\",function(){var t=0;return e.cart.forEach((function(e){t+=e.price*e.purchaseQuantity})),t.toFixed(2)}()]}),X.loggedIn()?Object(C.jsx)(\"button\",{onClick:function(){var t=[];e.cart.forEach((function(e){for(var n=0;n<e.purchaseQuantity;n++)t.push(e._id)})),a({variables:{products:t}})},children:\"Checkout\"}):Object(C.jsx)(\"span\",{children:\"(log in to check out)\"})]})]}):Object(C.jsxs)(\"h3\",{children:[Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\ud83d\\ude31\"}),\"You haven't added anything to your cart yet!\"]})]})):Object(C.jsx)(\"div\",{className:\"cart-closed\",onClick:s,children:Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\ud83d\\uded2\"})})},ce=function(){return Object(C.jsxs)(\"div\",{className:\"container\",children:[Object(C.jsx)(W,{}),Object(C.jsx)(q,{}),Object(C.jsx)(ne,{})]})},re=n(78);var ae=function(){var e=Object(re.useStoreContext)(),t=Object(M.a)(e,2),n=t[0],r=t[1],a=Object(l.o)().id,i=Object(c.useState)({}),d=Object(M.a)(i,2),j=d[0],u=d[1],b=Object(h.b)(P),O=b.loading,p=b.data,g=n.products,w=n.cart;return Object(c.useEffect)((function(){g.length?u(g.find((function(e){return e._id===a}))):p?(r({type:f,products:p.products}),p.products.forEach((function(e){m(\"products\",\"put\",e)}))):O||m(\"products\",\"get\").then((function(e){r({type:f,products:e})}))}),[g,p,O,r,a]),Object(C.jsxs)(C.Fragment,{children:[j&&w?Object(C.jsxs)(\"div\",{className:\"container my-1\",children:[Object(C.jsx)(o.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),Object(C.jsx)(\"h2\",{children:j.name}),Object(C.jsx)(\"p\",{children:j.description}),Object(C.jsxs)(\"p\",{children:[Object(C.jsx)(\"strong\",{children:\"Price:\"}),\"$\",j.price,\" \",Object(C.jsx)(\"button\",{onClick:function(){var e=w.find((function(e){return e._id===a}));e?(r({type:y,_id:a,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),m(\"cart\",\"put\",Object(s.a)(Object(s.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(r({type:x,product:Object(s.a)(Object(s.a)({},j),{},{purchaseQuantity:1})}),m(\"cart\",\"put\",Object(s.a)(Object(s.a)({},j),{},{purchaseQuantity:1})))},children:\"Add to Cart\"}),Object(C.jsx)(\"button\",{disabled:!w.find((function(e){return e._id===j._id})),onClick:function(){r({type:v,_id:j._id}),m(\"cart\",\"delete\",Object(s.a)({},j))},children:\"Remove from Cart\"})]}),Object(C.jsx)(\"img\",{src:\"/images/\".concat(j.image),alt:j.name})]}):null,O?Object(C.jsx)(\"img\",{src:L,alt:\"loading\"}):null,Object(C.jsx)(ne,{})]})};var ie,se,oe,le=function(e){var t=e.children;return Object(C.jsx)(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:t})},de=function(){return Object(C.jsx)(\"div\",{children:Object(C.jsxs)(le,{children:[Object(C.jsx)(\"h1\",{children:\"404 Page Not Found\"}),Object(C.jsx)(\"h1\",{children:Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\ud83d\\ude44\"})})]})})},je=n(15),ue=n(109),be=Object(Q.a)(ie||(ie=Object(D.a)([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"]))),Oe=Object(Q.a)(se||(se=Object(D.a)([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"]))),he=Object(Q.a)(oe||(oe=Object(D.a)([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var pe=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(M.a)(t,2),r=n[0],a=n[1],i=Object(ue.a)(be),l=Object(M.a)(i,2),d=l[0],j=l[1].error,u=function(){var e=Object(Y.a)(Object(B.a)().mark((function e(t){var n,c;return Object(B.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d({variables:{email:r.email,password:r.password}});case 4:n=e.sent,c=n.data.login.token,X.login(c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){var t=e.target,n=t.name,c=t.value;a(Object(s.a)(Object(s.a)({},r),{},Object(je.a)({},n,c)))};return Object(C.jsxs)(\"div\",{className:\"container my-1\",children:[Object(C.jsx)(o.b,{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),Object(C.jsx)(\"h2\",{children:\"Login\"}),Object(C.jsxs)(\"form\",{onSubmit:u,children:[Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),Object(C.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:b})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(C.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:b})]}),j?Object(C.jsx)(\"div\",{children:Object(C.jsx)(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,Object(C.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(C.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var me=function(e){var t=Object(c.useState)({email:\"\",password:\"\"}),n=Object(M.a)(t,2),r=n[0],a=n[1],i=Object(ue.a)(he),l=Object(M.a)(i,1)[0],d=function(){var e=Object(Y.a)(Object(B.a)().mark((function e(t){var n,c;return Object(B.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName}});case 3:n=e.sent,c=n.data.addUser.token,X.login(c);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=e.target,n=t.name,c=t.value;a(Object(s.a)(Object(s.a)({},r),{},Object(je.a)({},n,c)))};return Object(C.jsxs)(\"div\",{className:\"container my-1\",children:[Object(C.jsx)(o.b,{to:\"/login\",children:\"\\u2190 Go to Login\"}),Object(C.jsx)(\"h2\",{children:\"Signup\"}),Object(C.jsxs)(\"form\",{onSubmit:d,children:[Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),Object(C.jsx)(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:j})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),Object(C.jsx)(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:j})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"email\",children:\"Email:\"}),Object(C.jsx)(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:j})]}),Object(C.jsxs)(\"div\",{className:\"flex-row space-between my-2\",children:[Object(C.jsx)(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),Object(C.jsx)(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:j})]}),Object(C.jsx)(\"div\",{className:\"flex-row flex-end\",children:Object(C.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})})]})]})};var fe=function(){return Object(C.jsxs)(\"header\",{className:\"flex-row px-1\",children:[Object(C.jsx)(\"h1\",{children:Object(C.jsxs)(o.b,{to:\"/\",children:[Object(C.jsx)(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\ud83d\\udecd\\ufe0f\"}),\"-Shop-Shop\"]})}),Object(C.jsx)(\"nav\",{children:X.loggedIn()?Object(C.jsxs)(\"ul\",{className:\"flex-row\",children:[Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(o.b,{to:\"/orderHistory\",children:\"Order History\"})}),Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(\"a\",{href:\"/\",onClick:function(){return X.logout()},children:\"Logout\"})})]}):Object(C.jsxs)(\"ul\",{className:\"flex-row\",children:[Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(o.b,{to:\"/signup\",children:\"Signup\"})}),Object(C.jsx)(\"li\",{className:\"mx-1\",children:Object(C.jsx)(o.b,{to:\"/login\",children:\"Login\"})})]})})]})},xe=n(79),ge={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:\"\"},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(s.a)(Object(s.a)({},e),{},{products:Object(G.a)(t.products)});case _:return Object(s.a)(Object(s.a)({},e),{},{categories:Object(G.a)(t.categories)});case k:return Object(s.a)(Object(s.a)({},e),{},{currentCategory:t.currentCategory});case x:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(G.a)(e.cart),[t.product])});case g:return Object(s.a)(Object(s.a)({},e),{},{cart:[].concat(Object(G.a)(e.cart),Object(G.a)(t.products))});case v:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(s.a)(Object(s.a)({},e),{},{cartOpen:n.length>0,cart:n});case y:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case\"CLEAR_CART\":return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!1,cart:[]});case w:return Object(s.a)(Object(s.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}},ye=Object(xe.a)(ve);var we=function(){var e=Object(ue.a)(Oe),t=Object(M.a)(e,1)[0];return Object(c.useEffect)((function(){function e(){return(e=Object(Y.a)(Object(B.a)().mark((function e(){var n,c,r,a;return Object(B.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(\"cart\",\"get\");case 2:if(n=e.sent,!(c=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:c}});case 7:r=e.sent,a=r.data,a.addOrder.products.forEach((function(e){m(\"cart\",\"delete\",e)}));case 11:setTimeout((function(){window.location.assign(\"/\")}),3e3);case 12:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(C.jsx)(\"div\",{children:Object(C.jsxs)(le,{children:[Object(C.jsx)(\"h1\",{children:\"Success!\"}),Object(C.jsx)(\"h2\",{children:\"Thank you for your purchase!\"}),Object(C.jsx)(\"h2\",{children:\"You will now be redirected to the home page\"})]})})};var _e=function(){var e,t=Object(h.b)(U).data;return t&&(e=t.user),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(\"div\",{className:\"container my-1\",children:[Object(C.jsx)(o.b,{to:\"/\",children:\"\\u2190 Back to Products\"}),e?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(\"h2\",{children:[\"Order History for \",e.firstName,\" \",e.lastName]}),e.orders.map((function(e){return Object(C.jsxs)(\"div\",{className:\"my-2\",children:[Object(C.jsx)(\"h3\",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object(C.jsx)(\"div\",{className:\"flex-row\",children:e.products.map((function(e,t){var n=e._id,c=e.image,r=e.name,a=e.price;return Object(C.jsxs)(\"div\",{className:\"card px-1 py-1\",children:[Object(C.jsxs)(o.b,{to:\"/products/\".concat(n),children:[Object(C.jsx)(\"img\",{alt:r,src:\"/images/\".concat(c)}),Object(C.jsx)(\"p\",{children:r})]}),Object(C.jsx)(\"div\",{children:Object(C.jsxs)(\"span\",{children:[\"$\",a]})})]},t)}))})]},e._id)}))]}):null]})})},ke=Object(d.a)({uri:\"/graphql\"}),Ne=Object(O.a)((function(e,t){var n=t.headers,c=localStorage.getItem(\"id_token\");return{headers:Object(s.a)(Object(s.a)({},n),{},{authorization:c?\"Bearer \".concat(c):\"\"})}})),Ce=new j.a({link:Ne.concat(ke),cache:new u.a});var Se=function(){return Object(C.jsx)(b.a,{client:Ce,children:Object(C.jsx)(o.a,{children:Object(C.jsx)(\"div\",{children:Object(C.jsxs)(N.a,{store:ye,children:[Object(C.jsx)(fe,{}),Object(C.jsxs)(l.c,{children:[Object(C.jsx)(l.a,{path:\"/\",element:Object(C.jsx)(ce,{})}),Object(C.jsx)(l.a,{path:\"/login\",element:Object(C.jsx)(pe,{})}),Object(C.jsx)(l.a,{path:\"/signup\",element:Object(C.jsx)(me,{})}),Object(C.jsx)(l.a,{path:\"/success\",element:Object(C.jsx)(we,{})}),Object(C.jsx)(l.a,{path:\"/orderHistory\",element:Object(C.jsx)(_e,{})}),Object(C.jsx)(l.a,{path:\"/products/:id\",element:Object(C.jsx)(ae,{})}),Object(C.jsx)(l.a,{path:\"*\",element:Object(C.jsx)(de,{})})]})]})})})})},Te=Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){\"installed\"===n.state&&(navigator.serviceWorker.controller?(console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\"),t&&t.onUpdate&&t.onUpdate(e)):(console.log(\"Content is cached for offline use.\"),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error(\"Error during service worker registration:\",e)}))}i.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(Se,{})}),document.getElementById(\"root\")),function(e){if(\"serviceWorker\"in navigator){if(new URL(\"\",window.location.href).origin!==window.location.origin)return;window.addEventListener(\"load\",(function(){var t=\"\".concat(\"\",\"/service-worker.js\");Te?(!function(e,t){fetch(e,{headers:{\"Service-Worker\":\"script\"}}).then((function(n){var c=n.headers.get(\"content-type\");404===n.status||null!=c&&-1===c.indexOf(\"javascript\")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log(\"No internet connection found. App is running in offline mode.\")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\")}))):Ee(t,e)}))}}()},78:function(e,t){},91:function(e,t,n){}},[[102,1,2]]]);","name":"static/js/main.e733fbb0.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","objectSpread2","dist","react_router_dist","createHttpLink","ApolloClient","inMemoryCache","ApolloProvider","context","useQuery","pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","es","jsx_runtime","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","components_ProductItem","item","state","Object","dispatch","cart","image","price","quantity","className","children","to","concat","alt","src","onClick","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","product","taggedTemplateLiteral","lib","QUERY_PRODUCTS","QUERY_CHECKOUT","QUERY_CATEGORIES","QUERY_USER","spinner","p","components_ProductList","currentCategory","_useQuery","loading","data","products","forEach","then","length","filter","category","map","components_CategoryMenu","categories","categoryData","id","regeneratorRuntime","toConsumableArray","asyncToGenerator","slicedToArray","components_CartItem","_ref","placeholder","value","onChange","target","role","removeFromCart","classCallCheck","createClass","jwt_decode_lib","lib_default","auth","AuthService","key","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","stripe_esm","useLazyQuery","stripePromise","components_Cart","_useLazyQuery","_useLazyQuery2","getCheckout","toggleCart","_getCart","mark","_callee","wrap","_context","prev","next","sent","stop","apply","arguments","getCart","res","redirectToCheckout","sessionId","checkout","session","cartOpen","sum","toFixed","calculateTotal","loggedIn","productIds","i","variables","pages_Home","GlobalState","pages_Detail","_useStoreContext","_useStoreContext2","_useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","description","disabled","mutations_templateObject","mutations_templateObject2","mutations_templateObject3","components_Jumbotron","style","height","clear","paddingTop","textAlign","pages_NoMatch","defineProperty","useMutation","LOGIN","ADD_ORDER","ADD_USER","pages_Login","props","email","password","formState","setFormState","_useMutation","_useMutation2","login","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","onSubmit","htmlFor","pages_Signup","addUser","firstName","lastName","components_Nav","href","logout","redux","defaultState","reducers","undefined","action","newState","redux_store","pages_Success","addOrder","_saveOrder","_yield$addOrder","setTimeout","saveOrder","pages_OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","httpLink","uri","authLink","_","headers","authorization","client","link","cache","src_App","path","element","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","a","render","StrictMode","document","getElementById","URL","origin","addEventListener","fetch","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"sources":["static/js/main.e733fbb0.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpmern-client\"] = this[\"webpackJsonpmern-client\"] || []).push([[0],{\n\n/***/ 101:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 102:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(52);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 16 modules\nvar createHttpLink = __webpack_require__(82);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 14 modules\nvar ApolloClient = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 8 modules\nvar inMemoryCache = __webpack_require__(115);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(112);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(80);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 1 modules\nvar useQuery = __webpack_require__(83);\n\n// CONCATENATED MODULE: ./src/utils/helpers.js\nfunction pluralize(name,count){if(count===1){return name;}return name+'s';}function idbPromise(storeName,method,object){return new Promise(function(resolve,reject){var request=window.indexedDB.open('shop-shop',1);var db,tx,store;request.onupgradeneeded=function(e){var db=request.result;db.createObjectStore('products',{keyPath:'_id'});db.createObjectStore('categories',{keyPath:'_id'});db.createObjectStore('cart',{keyPath:'_id'});};request.onerror=function(e){console.log('There was an error');};request.onsuccess=function(e){db=request.result;tx=db.transaction(storeName,'readwrite');store=tx.objectStore(storeName);db.onerror=function(e){console.log('error',e);};switch(method){case'put':store.put(object);resolve(object);break;case'get':var all=store.getAll();all.onsuccess=function(){resolve(all.result);};break;case'delete':store.delete(object._id);break;default:console.log('No valid method');break;}tx.oncomplete=function(){db.close();};};});}\n// CONCATENATED MODULE: ./src/utils/actions.js\nvar UPDATE_PRODUCTS=\"UPDATE_PRODUCTS\";var ADD_TO_CART=\"ADD_TO_CART\";var ADD_MULTIPLE_TO_CART=\"ADD_MULTIPLE_TO_CART\";var REMOVE_FROM_CART=\"REMOVE_FROM_CART\";var CLEAR_CART=\"CLEAR_CART\";var UPDATE_CART_QUANTITY=\"UPDATE_CART_QUANTITY\";var TOGGLE_CART=\"TOGGLE_CART\";var UPDATE_CATEGORIES=\"UPDATE_CATEGORIES\";var UPDATE_CURRENT_CATEGORY=\"UPDATE_CURRENT_CATEGORY\";\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 28 modules\nvar es = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/ProductItem/index.js\nfunction ProductItem(item){var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var cart=state.cart;var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===_id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:_id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:1}));}};var image=item.image,name=item.name,_id=item._id,price=item.price,quantity=item.quantity;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[quantity,\" \",pluralize(\"item\",quantity),\" in stock\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to cart\"})]});}/* harmony default export */ var components_ProductItem = (ProductItem);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 10 modules\nvar lib = __webpack_require__(114);\n\n// CONCATENATED MODULE: ./src/utils/queries.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;var QUERY_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getProducts($category: ID) {\\n    products(category: $category) {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      image\\n      category {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var QUERY_CHECKOUT=Object(lib[\"a\" /* gql */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query getCheckout($products: [ID]!) {\\n    checkout(products: $products) {\\n      session\\n    }\\n  }\\n\"])));var QUERY_ALL_PRODUCTS=Object(lib[\"a\" /* gql */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    products {\\n      _id\\n      name\\n      description\\n      price\\n      quantity\\n      category {\\n        name\\n      }\\n    }\\n  }\\n\"])));var QUERY_CATEGORIES=Object(lib[\"a\" /* gql */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    categories {\\n      _id\\n      name\\n    }\\n  }\\n\"])));var QUERY_USER=Object(lib[\"a\" /* gql */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n    user {\\n      firstName\\n      lastName\\n      orders {\\n        _id\\n        purchaseDate\\n        products {\\n          _id\\n          name\\n          description\\n          price\\n          quantity\\n          image\\n        }\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/assets/spinner.gif\n/* harmony default export */ var spinner = (__webpack_require__.p + \"static/media/spinner.7e729fec.gif\");\n// CONCATENATED MODULE: ./src/components/ProductList/index.js\nfunction ProductList(){var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var currentCategory=state.currentCategory;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=(data===null||data===void 0?void 0:data.products)||[];Object(react[\"useEffect\"])(function(){//if there is data to be stored\nif(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});// but let's also take each product and save it to IndexedDB using the helper function\ndata.products.forEach(function(product){idbPromise('products','put',product);});// add else if to check if `loading` is undefined in `useQuery()` Hook\n}else if(!loading){//since we are offline, get all if the data from the products store\nidbPromise('products','get').then(function(products){//use retrieved data to set global state for offline browsing\ndispatch({type:UPDATE_PRODUCTS,products:products});});}},[data,loading,dispatch]);function filterProducts(){if(!currentCategory){return state.products;}return state.products.filter(function(product){return product.category._id===currentCategory;});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Our Products:\"}),products.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:filterProducts().map(function(product){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductItem,{_id:product._id,image:product.image,name:product.name,price:product.price,quantity:product.quantity},product._id);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"You haven't added any products yet!\"}),loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null]});}/* harmony default export */ var components_ProductList = (ProductList);\n// CONCATENATED MODULE: ./src/components/CategoryMenu/index.js\nfunction CategoryMenu(){var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var categories=state.categories;var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_CATEGORIES),loading=_useQuery.loading,categoryData=_useQuery.data;Object(react[\"useEffect\"])(function(){//if categoryData exists or has changed from the response of useQuery, then run dispatch()\nif(categoryData){//execute our dispatch function with our action object indicating the type of action and the data to set our state for categories to\ndispatch({type:UPDATE_CATEGORIES,categories:categoryData.categories});categoryData.categories.forEach(function(category){idbPromise('categories','put',category);});}else if(!loading){idbPromise('categories','get').then(function(categories){dispatch({type:UPDATE_CATEGORIES,categories:categories});});}},[categoryData,loading,dispatch]);var handleClick=function handleClick(id){dispatch({type:UPDATE_CURRENT_CATEGORY,currentCategory:id});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Choose a Category:\"}),categories.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){handleClick(item._id);},children:item.name},item._id);})]});}/* harmony default export */ var components_CategoryMenu = (CategoryMenu);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 2 modules\nvar toConsumableArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(14);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(10);\n\n// CONCATENATED MODULE: ./src/components/CartItem/index.js\nvar CartItem_CartItem=function CartItem(_ref){var item=_ref.item;var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var removeFromCart=function removeFromCart(item){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));};var onChange=function onChange(e){var value=e.target.value;if(value==='0'){dispatch({type:REMOVE_FROM_CART,_id:item._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},item));}else{dispatch({type:UPDATE_CART_QUANTITY,_id:item._id,purchaseQuantity:parseInt(value)});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},item),{},{purchaseQuantity:parseInt(value)}));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(item.image),alt:\"\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[item.name,\", $\",item.price]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Qty:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",placeholder:\"1\",value:item.purchaseQuantity,onChange:onChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",onClick:function onClick(){return removeFromCart(item);},children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]})]});};/* harmony default export */ var components_CartItem = (CartItem_CartItem);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/jwt-decode/lib/index.js\nvar jwt_decode_lib = __webpack_require__(66);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(jwt_decode_lib);\n\n// CONCATENATED MODULE: ./src/utils/auth.js\nvar auth_AuthService=/*#__PURE__*/function(){function AuthService(){Object(classCallCheck[\"a\" /* default */])(this,AuthService);}Object(createClass[\"a\" /* default */])(AuthService,[{key:\"getProfile\",value:function getProfile(){return lib_default()(this.getToken());}},{key:\"loggedIn\",value:function loggedIn(){// Checks if there is a saved token and it's still valid\nvar token=this.getToken();return!!token&&!this.isTokenExpired(token);}},{key:\"isTokenExpired\",value:function isTokenExpired(token){try{var decoded=lib_default()(token);if(decoded.exp<Date.now()/1000){return true;}else return false;}catch(err){return false;}}},{key:\"getToken\",value:function getToken(){// Retrieves the user token from localStorage\nreturn localStorage.getItem('id_token');}},{key:\"login\",value:function login(idToken){// Saves user token to localStorage\nlocalStorage.setItem('id_token',idToken);window.location.assign('/');}},{key:\"logout\",value:function logout(){// Clear user token and profile data from localStorage\nlocalStorage.removeItem('id_token');// this will reload the page and reset the state of the application\nwindow.location.assign('/');}}]);return AuthService;}();/* harmony default export */ var auth = (new auth_AuthService());\n// EXTERNAL MODULE: ./src/components/Cart/style.css\nvar style = __webpack_require__(101);\n\n// EXTERNAL MODULE: ./node_modules/@stripe/stripe-js/dist/stripe.esm.js\nvar stripe_esm = __webpack_require__(77);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useLazyQuery.js\nvar useLazyQuery = __webpack_require__(108);\n\n// CONCATENATED MODULE: ./src/components/Cart/index.js\nvar stripePromise=Object(stripe_esm[\"a\" /* loadStripe */])('pk_test_TYooMQauvdEDq54NiTphI7jx');var Cart_Cart=function Cart(){var state=Object(es[\"c\" /* useSelector */])(function(state){return state;});var dispatch=Object(es[\"b\" /* useDispatch */])();var _useLazyQuery=Object(useLazyQuery[\"a\" /* useLazyQuery */])(QUERY_CHECKOUT),_useLazyQuery2=Object(slicedToArray[\"a\" /* default */])(_useLazyQuery,2),getCheckout=_useLazyQuery2[0],data=_useLazyQuery2[1].data;Object(react[\"useEffect\"])(function(){function getCart(){return _getCart.apply(this,arguments);}function _getCart(){_getCart=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var cart;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;dispatch({type:ADD_MULTIPLE_TO_CART,products:Object(toConsumableArray[\"a\" /* default */])(cart)});case 4:case\"end\":return _context.stop();}},_callee);}));return _getCart.apply(this,arguments);};if(!state.cart.length){getCart();}},[state.cart.length,dispatch]);function toggleCart(){dispatch({type:TOGGLE_CART});}function calculateTotal(){var sum=0;state.cart.forEach(function(item){sum+=item.price*item.purchaseQuantity;});return sum.toFixed(2);}function submitCheckout(){var productIds=[];state.cart.forEach(function(item){for(var i=0;i<item.purchaseQuantity;i++){productIds.push(item._id);}});getCheckout({variables:{products:productIds}});}Object(react[\"useEffect\"])(function(){if(data){stripePromise.then(function(res){res.redirectToCheckout({sessionId:data.checkout.session});});}},[data]);if(!state.cartOpen){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"cart-closed\",onClick:toggleCart,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"trash\",children:\"\\uD83D\\uDED2\"})});}console.log(state);return/*#__PURE__*/ (// <div className=\"cart\">\n//   <div className=\"close\" onClick={toggleCart}>[close]</div>\n//   <h2>Shopping Cart</h2>\n//   <div>\n//       <CartItem item={{name:'Camera', image:'camera.jpg', price:5, purchaseQuantity:3}} />\n//       <CartItem item={{name:'Soap', image:'soap.jpg', price:6, purchaseQuantity:4}} />\n//       <div className=\"flex-row space-between\">\n//         <strong>Total: $0</strong>\n//         {\n//           Auth.loggedIn() ?\n//             <button>\n//               Checkout\n//             </button>\n//             :\n//             <span>(log in to check out)</span>\n//         }\n//       </div>\n//     </div>\n// </div>\nObject(jsx_runtime[\"jsxs\"])(\"div\",{className:\"cart\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"close\",onClick:toggleCart,children:\"[close]\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Shopping Cart\"}),state.cart.length?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[state.cart.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CartItem,{item:item},item._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"strong\",{children:[\"Total: $\",calculateTotal()]}),auth.loggedIn()?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:submitCheckout,children:\"Checkout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"(log in to check out)\"})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shocked\",children:\"\\uD83D\\uDE31\"}),\"You haven't added anything to your cart yet!\"]})]}));};/* harmony default export */ var components_Cart = (Cart_Cart);\n// CONCATENATED MODULE: ./src/pages/Home.js\nvar Home_Home=function Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_CategoryMenu,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_ProductList,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});};/* harmony default export */ var pages_Home = (Home_Home);\n// EXTERNAL MODULE: ./src/utils/GlobalState.js\nvar GlobalState = __webpack_require__(78);\n\n// CONCATENATED MODULE: ./src/pages/Detail.js\nfunction Detail(){var _useStoreContext=Object(GlobalState[\"useStoreContext\"])(),_useStoreContext2=Object(slicedToArray[\"a\" /* default */])(_useStoreContext,2),state=_useStoreContext2[0],dispatch=_useStoreContext2[1];var _useParams=Object(react_router_dist[\"o\" /* useParams */])(),id=_useParams.id;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentProduct=_useState2[0],setCurrentProduct=_useState2[1];var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_PRODUCTS),loading=_useQuery.loading,data=_useQuery.data;var products=state.products,cart=state.cart;Object(react[\"useEffect\"])(function(){// already in global store\nif(products.length){setCurrentProduct(products.find(function(product){return product._id===id;}));}// retrieved from server\nelse if(data){dispatch({type:UPDATE_PRODUCTS,products:data.products});data.products.forEach(function(product){idbPromise('products','put',product);});}// get cache from idb\nelse if(!loading){idbPromise('products','get').then(function(indexedProducts){dispatch({type:UPDATE_PRODUCTS,products:indexedProducts});});}},[products,data,loading,dispatch,id]);var addToCart=function addToCart(){var itemInCart=cart.find(function(cartItem){return cartItem._id===id;});if(itemInCart){dispatch({type:UPDATE_CART_QUANTITY,_id:id,purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},itemInCart),{},{purchaseQuantity:parseInt(itemInCart.purchaseQuantity)+1}));}else{dispatch({type:ADD_TO_CART,product:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1})});idbPromise('cart','put',Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},currentProduct),{},{purchaseQuantity:1}));}};var removeFromCart=function removeFromCart(){dispatch({type:REMOVE_FROM_CART,_id:currentProduct._id});idbPromise('cart','delete',Object(objectSpread2[\"a\" /* default */])({},currentProduct));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[currentProduct&&cart?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:currentProduct.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:currentProduct.description}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Price:\"}),\"$\",currentProduct.price,' ',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:addToCart,children:\"Add to Cart\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{disabled:!cart.find(function(p){return p._id===currentProduct._id;}),onClick:removeFromCart,children:\"Remove from Cart\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"/images/\".concat(currentProduct.image),alt:currentProduct.name})]}):null,loading?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:spinner,alt:\"loading\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Cart,{})]});}/* harmony default export */ var pages_Detail = (Detail);\n// CONCATENATED MODULE: ./src/components/Jumbotron/index.js\nfunction Jumbotron(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{height:560,clear:\"both\",paddingTop:120,textAlign:\"center\"},children:children});}/* harmony default export */ var components_Jumbotron = (Jumbotron);\n// CONCATENATED MODULE: ./src/pages/NoMatch.js\nvar NoMatch_NoMatch=function NoMatch(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"404 Page Not Found\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"Face With Rolling Eyes Emoji\",children:\"\\uD83D\\uDE44\"})})]})});};/* harmony default export */ var pages_NoMatch = (NoMatch_NoMatch);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js\nvar useMutation = __webpack_require__(109);\n\n// CONCATENATED MODULE: ./src/utils/mutations.js\nvar mutations_templateObject,mutations_templateObject2,mutations_templateObject3;var LOGIN=Object(lib[\"a\" /* gql */])(mutations_templateObject||(mutations_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation login($email: String!, $password: String!) {\\n    login(email: $email, password: $password) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));var ADD_ORDER=Object(lib[\"a\" /* gql */])(mutations_templateObject2||(mutations_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addOrder($products: [ID]!) {\\n    addOrder(products: $products) {\\n      purchaseDate\\n      products {\\n        _id\\n        name\\n        description\\n        price\\n        quantity\\n        category {\\n          name\\n        }\\n      }\\n    }\\n  }\\n\"])));var ADD_USER=Object(lib[\"a\" /* gql */])(mutations_templateObject3||(mutations_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation addUser(\\n    $firstName: String!\\n    $lastName: String!\\n    $email: String!\\n    $password: String!\\n  ) {\\n    addUser(\\n      firstName: $firstName\\n      lastName: $lastName\\n      email: $email\\n      password: $password\\n    ) {\\n      token\\n      user {\\n        _id\\n      }\\n    }\\n  }\\n\"])));\n// CONCATENATED MODULE: ./src/pages/Login.js\nfunction Login(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),login=_useMutation2[0],error=_useMutation2[1].error;var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var mutationResponse,token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return login({variables:{email:formState.email,password:formState.password}});case 4:mutationResponse=_context.sent;token=mutationResponse.data.login.token;auth.login(token);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"\\u2190 Go to Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email address:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),error?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-text\",children:\"The provided credentials are incorrect\"})}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Login = (Login);\n// CONCATENATED MODULE: ./src/pages/Signup.js\nfunction Signup(props){var _useState=Object(react[\"useState\"])({email:'',password:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_USER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addUser=_useMutation2[0];var handleFormSubmit=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(event){var mutationResponse,token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return addUser({variables:{email:formState.email,password:formState.password,firstName:formState.firstName,lastName:formState.lastName}});case 3:mutationResponse=_context.sent;token=mutationResponse.data.addUser.token;auth.login(token);case 6:case\"end\":return _context.stop();}},_callee);}));return function handleFormSubmit(_x){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},name,value)));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"\\u2190 Go to Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleFormSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"firstName\",children:\"First Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"First\",name:\"firstName\",type:\"firstName\",id:\"firstName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"lastName\",children:\"Last Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Last\",name:\"lastName\",type:\"lastName\",id:\"lastName\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Email:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"youremail@test.com\",name:\"email\",type:\"email\",id:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex-row space-between my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"pwd\",children:\"Password:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"******\",name:\"password\",type:\"password\",id:\"pwd\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row flex-end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})})]})]});}/* harmony default export */ var pages_Signup = (Signup);\n// CONCATENATED MODULE: ./src/components/Nav/index.js\nfunction Nav(){function showNavigation(){if(auth.loggedIn()){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/orderHistory\",children:\"Order History\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/\",onClick:function onClick(){return auth.logout();},children:\"Logout\"})})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"flex-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"mx-1\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/login\",children:\"Login\"})})]});}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"flex-row px-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{role:\"img\",\"aria-label\":\"shopping bag\",children:\"\\uD83D\\uDECD\\uFE0F\"}),\"-Shop-Shop\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:showNavigation()})]});}/* harmony default export */ var components_Nav = (Nav);\n// EXTERNAL MODULE: ./node_modules/redux/es/redux.js\nvar redux = __webpack_require__(79);\n\n// CONCATENATED MODULE: ./src/utils/reducers.js\nvar defaultState={products:[],cart:[],cartOpen:false,categories:[],currentCategory:''};var reducers_reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){//if action type value is the value of 'UPDATE_PRODUCTS', return a new state object with an updated products array \ncase UPDATE_PRODUCTS:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{products:Object(toConsumableArray[\"a\" /* default */])(action.products)});//if action type value is value of 'UPDATE_CATEGORIES', return a new state object with an updated categories array\ncase UPDATE_CATEGORIES:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{categories:Object(toConsumableArray[\"a\" /* default */])(action.categories)});case UPDATE_CURRENT_CATEGORY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{currentCategory:action.currentCategory});case ADD_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cart:[].concat(Object(toConsumableArray[\"a\" /* default */])(state.cart),Object(toConsumableArray[\"a\" /* default */])(action.products))});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:newState.length>0,cart:newState});case UPDATE_CART_QUANTITY:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case CLEAR_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{cartOpen:!state.cartOpen});//if it's none of these actions, do not update the state at all and keep things the same\ndefault:return state;}};/* harmony default export */ var reducers = (reducers_reducer);\n// CONCATENATED MODULE: ./src/redux/store.js\nvar store=Object(redux[\"a\" /* createStore */])(reducers);/* harmony default export */ var redux_store = (store);\n// CONCATENATED MODULE: ./src/pages/Success.js\nfunction Success(){var _useMutation=Object(useMutation[\"a\" /* useMutation */])(ADD_ORDER),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),addOrder=_useMutation2[0];Object(react[\"useEffect\"])(function(){function saveOrder(){return _saveOrder.apply(this,arguments);}function _saveOrder(){_saveOrder=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var cart,products,_yield$addOrder,data,productData;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return idbPromise('cart','get');case 2:cart=_context.sent;products=cart.map(function(item){return item._id;});if(!products.length){_context.next=11;break;}_context.next=7;return addOrder({variables:{products:products}});case 7:_yield$addOrder=_context.sent;data=_yield$addOrder.data;productData=data.addOrder.products;productData.forEach(function(item){idbPromise('cart','delete',item);});case 11:setTimeout(function(){window.location.assign('/');},3000);case 12:case\"end\":return _context.stop();}},_callee);}));return _saveOrder.apply(this,arguments);}saveOrder();},[addOrder]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(components_Jumbotron,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Success!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Thank you for your purchase!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"You will now be redirected to the home page\"})]})});}/* harmony default export */ var pages_Success = (Success);\n// CONCATENATED MODULE: ./src/pages/OrderHistory.js\nfunction OrderHistory(){var _useQuery=Object(useQuery[\"b\" /* useQuery */])(QUERY_USER),data=_useQuery.data;var user;if(data){user=data.user;}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container my-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Link */],{to:\"/\",children:\"\\u2190 Back to Products\"}),user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Order History for \",user.firstName,\" \",user.lastName]}),user.orders.map(function(order){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"my-2\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:new Date(parseInt(order.purchaseDate)).toLocaleDateString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex-row\",children:order.products.map(function(_ref,index){var _id=_ref._id,image=_ref.image,name=_ref.name,price=_ref.price;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card px-1 py-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"b\" /* Link */],{to:\"/products/\".concat(_id),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{alt:name,src:\"/images/\".concat(image)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{children:[\"$\",price]})})]},index);})})]},order._id);})]}):null]})});}/* harmony default export */ var pages_OrderHistory = (OrderHistory);\n// CONCATENATED MODULE: ./src/App.js\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:'/graphql'});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem('id_token');return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"Bearer \".concat(token):''})};});var client=new ApolloClient[\"a\" /* ApolloClient */]({link:authLink.concat(httpLink),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(es[\"a\" /* Provider */],{store:redux_store,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Nav,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dist[\"c\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/signup\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Signup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/success\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Success,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/orderHistory\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_OrderHistory,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"/products/:id\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_Detail,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dist[\"a\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_NoMatch,{})})]})]})})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nregister();\n\n/***/ }),\n\n/***/ 78:\n/***/ (function(module, exports) {\n\n// import React, { createContext, useContext } from \"react\";\n// import { useProductReducer } from './reducers'\n// const StoreContext = createContext();\n// const { Provider } = StoreContext;\n// const StoreProvider = ({ value = [], ...props }) => {\n//   const [state, dispatch] = useProductReducer({\n//     products: [],\n//     cart: [],\n//     cartOpen: false,\n//     categories: [],\n//     currentCategory: '',\n//   });\n//   return <Provider value={[state, dispatch]} {...props} />;\n// };\n// const useStoreContext = () => {\n//   return useContext(StoreContext);\n// };\n// export { StoreProvider, useStoreContext };\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[102,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/vega/bootcamp/hw/State/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/vega/bootcamp/hw/State/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/vega/bootcamp/hw/State/client/node_modules/postcss-loader/src/index.js??postcss!/Users/vega/bootcamp/hw/State/client/src/components/Cart/style.css","/Users/vega/bootcamp/hw/State/client/src/utils/helpers.js","/Users/vega/bootcamp/hw/State/client/src/utils/actions.js","/Users/vega/bootcamp/hw/State/client/src/components/ProductItem/index.js","/Users/vega/bootcamp/hw/State/client/src/utils/queries.js","/Users/vega/bootcamp/hw/State/client/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/vega/bootcamp/hw/State/client/src/assets/spinner.gif","/Users/vega/bootcamp/hw/State/client/src/components/ProductList/index.js","/Users/vega/bootcamp/hw/State/client/src/components/CategoryMenu/index.js","/Users/vega/bootcamp/hw/State/client/src/components/CartItem/index.js","/Users/vega/bootcamp/hw/State/client/src/utils/auth.js","/Users/vega/bootcamp/hw/State/client/src/components/Cart/index.js","/Users/vega/bootcamp/hw/State/client/src/pages/Home.js","/Users/vega/bootcamp/hw/State/client/src/pages/Detail.js","/Users/vega/bootcamp/hw/State/client/src/components/Jumbotron/index.js","/Users/vega/bootcamp/hw/State/client/src/pages/NoMatch.js","/Users/vega/bootcamp/hw/State/client/src/utils/mutations.js","/Users/vega/bootcamp/hw/State/client/src/pages/Login.js","/Users/vega/bootcamp/hw/State/client/src/pages/Signup.js","/Users/vega/bootcamp/hw/State/client/src/components/Nav/index.js","/Users/vega/bootcamp/hw/State/client/src/utils/reducers.js","/Users/vega/bootcamp/hw/State/client/src/redux/store.js","/Users/vega/bootcamp/hw/State/client/src/pages/Success.js","/Users/vega/bootcamp/hw/State/client/src/pages/OrderHistory.js","/Users/vega/bootcamp/hw/State/client/src/App.js","/Users/vega/bootcamp/hw/State/client/src/serviceWorker.js","/Users/vega/bootcamp/hw/State/client/src/index.js","/Users/vega/bootcamp/hw/State/client/src/utils/GlobalState.js","/Users/vega/bootcamp/hw/State/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/vega/bootcamp/hw/State/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/vega/bootcamp/hw/State/client/node_modules/postcss-loader/src/index.js??postcss!/Users/vega/bootcamp/hw/State/client/src/index.css"],"names":["pluralize","name","count","idbPromise","storeName","method","object","Promise","resolve","reject","request","window","indexedDB","open","db","tx","store","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","_id","oncomplete","close","UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","CLEAR_CART","UPDATE_CART_QUANTITY","TOGGLE_CART","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","ProductItem","item","state","useSelector","dispatch","useDispatch","cart","addToCart","itemInCart","find","cartItem","type","purchaseQuantity","parseInt","_objectSpread","product","image","price","quantity","_jsxs","className","children","Link","to","concat","_jsx","alt","src","onClick","QUERY_PRODUCTS","gql","_templateObject","_taggedTemplateLiteral","QUERY_CHECKOUT","_templateObject2","QUERY_ALL_PRODUCTS","_templateObject3","QUERY_CATEGORIES","_templateObject4","QUERY_USER","_templateObject5","ProductList","currentCategory","_useQuery","useQuery","loading","data","products","useEffect","forEach","then","filterProducts","filter","category","length","map","spinner","CategoryMenu","categories","categoryData","handleClick","id","CartItem","_ref","removeFromCart","onChange","value","target","placeholder","role","AuthService","_classCallCheck","_createClass","key","getProfile","decode","getToken","loggedIn","token","isTokenExpired","decoded","exp","Date","now","err","localStorage","getItem","login","idToken","setItem","location","assign","logout","removeItem","stripePromise","loadStripe","Cart","_useLazyQuery","useLazyQuery","_useLazyQuery2","_slicedToArray","getCheckout","getCart","_getCart","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","sent","_toConsumableArray","stop","toggleCart","calculateTotal","sum","toFixed","submitCheckout","productIds","i","push","variables","res","redirectToCheckout","sessionId","checkout","session","cartOpen","Auth","Home","Detail","_useStoreContext","useStoreContext","_useStoreContext2","_useParams","useParams","_useState","useState","_useState2","currentProduct","setCurrentProduct","indexedProducts","_Fragment","description","disabled","p","Jumbotron","style","height","clear","paddingTop","textAlign","NoMatch","LOGIN","ADD_ORDER","ADD_USER","Login","props","email","password","formState","setFormState","_useMutation","useMutation","_useMutation2","error","handleFormSubmit","event","mutationResponse","preventDefault","t0","_x","handleChange","_event$target","_defineProperty","onSubmit","htmlFor","Signup","addUser","firstName","lastName","Nav","showNavigation","href","defaultState","reducer","undefined","action","newState","createStore","Success","addOrder","saveOrder","_saveOrder","_yield$addOrder","productData","setTimeout","OrderHistory","user","orders","order","purchaseDate","toLocaleDateString","index","httpLink","createHttpLink","uri","authLink","setContext","_","headers","authorization","client","ApolloClient","link","cache","InMemoryCache","App","ApolloProvider","Router","Provider","Routes","Route","path","element","isLocalhost","Boolean","hostname","match","register","config","process","navigator","publicUrl","URL","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","fetch","response","contentType","get","status","indexOf","unregister","reload","message","ReactDOM","render","React","StrictMode","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export function pluralize(name, count) {\n  if (count === 1) {\n    return name;\n  }\n  return name + 's';\n}\n\nexport function idbPromise(storeName, method, object) {\n  return new Promise((resolve, reject) => {\n    const request = window.indexedDB.open('shop-shop', 1);\n    let db, tx, store;\n    request.onupgradeneeded = function(e) {\n      const db = request.result;\n      db.createObjectStore('products', { keyPath: '_id' });\n      db.createObjectStore('categories', { keyPath: '_id' });\n      db.createObjectStore('cart', { keyPath: '_id' });\n    };\n\n    request.onerror = function(e) {\n      console.log('There was an error');\n    };\n\n    request.onsuccess = function(e) {\n      db = request.result;\n      tx = db.transaction(storeName, 'readwrite');\n      store = tx.objectStore(storeName);\n\n      db.onerror = function(e) {\n        console.log('error', e);\n      };\n\n      switch (method) {\n        case 'put':\n          store.put(object);\n          resolve(object);\n          break;\n        case 'get':\n          const all = store.getAll();\n          all.onsuccess = function() {\n            resolve(all.result);\n          };\n          break;\n        case 'delete':\n          store.delete(object._id);\n          break;\n        default:\n          console.log('No valid method');\n          break;\n      }\n\n      tx.oncomplete = function() {\n        db.close();\n      };\n    };\n  });\n}\n","export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\n\nexport const ADD_TO_CART = \"ADD_TO_CART\";\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\nexport const CLEAR_CART = \"CLEAR_CART\";\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\nexport const TOGGLE_CART = \"TOGGLE_CART\";\n\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { pluralize } from \"../../utils/helpers\";\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY} from '../../utils/actions';\nimport { idbPromise } from \"../../utils/helpers\";\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction ProductItem(item) {\n\n  const state = useSelector((state) => {\n    return state\n  });\n  const dispatch = useDispatch();\n\n  const { cart } = state;\n\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: _id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...item, purchaseQuantity: 1 }\n      });\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\n    }\n  }\n\n\n\n  const {\n    image,\n    name,\n    _id,\n    price,\n    quantity\n  } = item;\n\n\n\n\n  return (\n    <div className=\"card px-1 py-1\">\n      <Link to={`/products/${_id}`}>\n        <img\n          alt={name}\n          src={`/images/${image}`}\n        />\n        <p>{name}</p>\n      </Link>\n      <div>\n        <div>{quantity} {pluralize(\"item\", quantity)} in stock</div>\n        <span>${price}</span>\n      </div>\n      <button onClick={addToCart}>Add to cart</button>\n    </div>\n  );\n}\n\nexport default ProductItem;","import { gql } from '@apollo/client';\n\nexport const QUERY_PRODUCTS = gql`\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n`;\n\nexport const QUERY_CHECKOUT = gql`\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n`;\n\nexport const QUERY_ALL_PRODUCTS = gql`\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n`;\n\nexport const QUERY_CATEGORIES = gql`\n  {\n    categories {\n      _id\n      name\n    }\n  }\n`;\n\nexport const QUERY_USER = gql`\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/spinner.7e729fec.gif\";","import React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/react-hooks';\nimport ProductItem from \"../ProductItem\";\nimport { QUERY_PRODUCTS } from \"../../utils/queries\";\nimport spinner from \"../../assets/spinner.gif\"\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\n\nfunction ProductList() {\n\n\n  const state = useSelector((state) => {\n    return state\n  });\n  const dispatch = useDispatch();\n\n  const { currentCategory } = state;\n  \n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const products = data?.products || [];\n  \n  useEffect(() => {\n    //if there is data to be stored\n    if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products\n      });\n      // but let's also take each product and save it to IndexedDB using the helper function\n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product)\n      });\n\n      // add else if to check if `loading` is undefined in `useQuery()` Hook\n  \n    } else if (!loading) {\n      //since we are offline, get all if the data from the products store\n\n      idbPromise('products', 'get').then((products) => {\n        //use retrieved data to set global state for offline browsing\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: products\n        })\n      })\n    }\n  }, [data, loading, dispatch]);\n\n  \n  function filterProducts() {\n    if (!currentCategory) {\n      return state.products;\n    }\n  \n    return state.products.filter(product => product.category._id === currentCategory);\n  }\n\n\n  return (\n    <div className=\"my-2\">\n      <h2>Our Products:</h2>\n      {products.length ? (\n        <div className=\"flex-row\">\n            {filterProducts().map(product => (\n                <ProductItem\n                  key= {product._id}\n                  _id={product._id}\n                  image={product.image}\n                  name={product.name}\n                  price={product.price}\n                  quantity={product.quantity}\n                />\n            ))}\n        </div>\n      ) : (\n        <h3>You haven't added any products yet!</h3>\n      )}\n      { loading ? \n      <img src={spinner} alt=\"loading\" />: null}\n    </div>\n  );\n}\n\nexport default ProductList;","import React, {useEffect} from \"react\";\nimport { useQuery } from '@apollo/react-hooks';\nimport { QUERY_CATEGORIES } from \"../../utils/queries\";\nimport {UPDATE_CATEGORIES, UPDATE_CURRENT_CATEGORY} from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\nfunction CategoryMenu() {\n\n  const state = useSelector((state) => {\n    return state\n  });\n  const dispatch = useDispatch();\n\n  const { categories } = state;\n  const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\n\n\n  useEffect(() => {\n    //if categoryData exists or has changed from the response of useQuery, then run dispatch()\n\n    if(categoryData) {\n      //execute our dispatch function with our action object indicating the type of action and the data to set our state for categories to\n      dispatch({\n        type: UPDATE_CATEGORIES,\n        categories: categoryData.categories\n      });\n\n      categoryData.categories.forEach(category => {\n        idbPromise('categories', 'put', category)\n      }) \n    } else if (!loading) {\n      idbPromise('categories', 'get').then(categories => {\n        dispatch({\n          type: UPDATE_CATEGORIES,\n          categories: categories\n        })\n      })\n    }\n  }, [categoryData, loading, dispatch]);\n\n\n  const handleClick = id => {\n    dispatch({\n      type: UPDATE_CURRENT_CATEGORY,\n      currentCategory: id\n    });\n  };\n\n  return (\n    <div>\n      <h2>Choose a Category:</h2>\n      {categories.map(item => (\n        <button\n          key={item._id}\n          onClick={() => {\n            handleClick(item._id);\n          }}\n        >\n          {item.name}\n        </button>\n      ))}\n    </div>\n  );\n}\n\nexport default CategoryMenu;","import React from 'react';\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst CartItem = ({ item }) => {\n\n  const state = useSelector((state) => {\n    return state\n  });\n  const dispatch = useDispatch();\n\n    const removeFromCart = item => {\n        dispatch({\n          type: REMOVE_FROM_CART,\n          _id: item._id\n        });\n        idbPromise('cart', 'delete', { ...item });\n      };\n\n\n    const onChange = (e) => {\n        const value = e.target.value;\n      \n        if (value === '0') {\n          dispatch({\n            type: REMOVE_FROM_CART,\n            _id: item._id\n          });\n\n          idbPromise('cart', 'delete', {...item})\n        } else {\n          dispatch({\n            type: UPDATE_CART_QUANTITY,\n            _id: item._id,\n            purchaseQuantity: parseInt(value)\n          });\n\n          idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value)})\n        }\n      };\n\n\n  return (\n    <div className=\"flex-row\">\n      <div>\n        <img\n          src={`/images/${item.image}`}\n          alt=\"\"\n        />\n      </div>\n      <div>\n        <div>{item.name}, ${item.price}</div>\n        <div>\n          <span>Qty:</span>\n          <input\n            type=\"number\"\n            placeholder=\"1\"\n            value={item.purchaseQuantity}\n            onChange={onChange}\n          />\n            <span\n            role=\"img\"\n            aria-label=\"trash\"\n            onClick={() => removeFromCart(item)}\n            >\n            🗑️\n            </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default CartItem;","import decode from 'jwt-decode';\n\nclass AuthService {\n  getProfile() {\n    return decode(this.getToken());\n  }\n\n  loggedIn() {\n    // Checks if there is a saved token and it's still valid\n    const token = this.getToken();\n    return !!token && !this.isTokenExpired(token);\n  }\n\n  isTokenExpired(token) {\n    try {\n      const decoded = decode(token);\n      if (decoded.exp < Date.now() / 1000) {\n        return true;\n      } else return false;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  getToken() {\n    // Retrieves the user token from localStorage\n    return localStorage.getItem('id_token');\n  }\n\n  login(idToken) {\n    // Saves user token to localStorage\n    localStorage.setItem('id_token', idToken);\n\n    window.location.assign('/');\n  }\n\n  logout() {\n    // Clear user token and profile data from localStorage\n    localStorage.removeItem('id_token');\n    // this will reload the page and reset the state of the application\n    window.location.assign('/');\n  }\n}\n\nexport default new AuthService();\n","import React, { useEffect } from 'react';\nimport CartItem from '../CartItem';\nimport Auth from '../../utils/auth';\nimport './style.css';\nimport { TOGGLE_CART, ADD_MULTIPLE_TO_CART } from '../../utils/actions';\nimport { idbPromise } from '../../utils/helpers';\nimport { QUERY_CHECKOUT } from '../../utils/queries';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { useLazyQuery } from '@apollo/react-hooks';\nimport { useDispatch, useSelector } from 'react-redux';\n\n\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\n\nconst Cart = () => {\n\n    const state = useSelector((state) => {\n      return state\n    });\n\n    const dispatch = useDispatch();\n\n    const [getCheckout, {data}] = useLazyQuery(QUERY_CHECKOUT);\n\n    useEffect(() => {\n        async function getCart() {\n            const cart = await idbPromise('cart', 'get');\n            dispatch({\n                type: ADD_MULTIPLE_TO_CART,\n                products: [...cart]\n            })\n        };\n\n        if(!state.cart.length) {\n            getCart();\n        }\n    }, [state.cart.length, dispatch]);\n\n\n\n    function toggleCart() {\n        dispatch({type: TOGGLE_CART});\n    }\n\n    function calculateTotal() {\n        let sum = 0;\n        state.cart.forEach(item => {\n            sum+= item.price * item.purchaseQuantity;\n        })\n\n        return sum.toFixed(2);\n    }\n\n\n    function submitCheckout() {\n        const productIds = [];\n\n        state.cart.forEach((item) => {\n            for (let i=0; i<item.purchaseQuantity; i++) {\n                productIds.push(item._id);\n            }\n        })\n\n        getCheckout({\n            variables: {products: productIds}\n        })\n    }\n\n\n    useEffect(() => {\n        if(data) {\n            stripePromise.then((res) => {\n                res.redirectToCheckout({ sessionId: data.checkout.session})\n            })\n        }\n    }, [data])\n    \n\n    if(!state.cartOpen) {\n        return (\n            <div className=\"cart-closed\" onClick={toggleCart}>\n              <span\n                role=\"img\"\n                aria-label=\"trash\">🛒</span>\n            </div>\n          );\n    }\n\n    console.log(state);\n\n\n  return (\n    // <div className=\"cart\">\n    //   <div className=\"close\" onClick={toggleCart}>[close]</div>\n    //   <h2>Shopping Cart</h2>\n    //   <div>\n    //       <CartItem item={{name:'Camera', image:'camera.jpg', price:5, purchaseQuantity:3}} />\n    //       <CartItem item={{name:'Soap', image:'soap.jpg', price:6, purchaseQuantity:4}} />\n\n    //       <div className=\"flex-row space-between\">\n    //         <strong>Total: $0</strong>\n    //         {\n    //           Auth.loggedIn() ?\n    //             <button>\n    //               Checkout\n    //             </button>\n    //             :\n    //             <span>(log in to check out)</span>\n    //         }\n    //       </div>\n    //     </div>\n    // </div>\n    <div className=\"cart\">\n  <div className=\"close\" onClick={toggleCart}>[close]</div>\n  <h2>Shopping Cart</h2>\n  {state.cart.length ? (\n    <div>\n      {state.cart.map(item => (\n        <CartItem key={item._id} item={item} />\n      ))}\n      <div className=\"flex-row space-between\">\n        <strong>Total: ${calculateTotal()}</strong>\n        {\n          Auth.loggedIn() ?\n            <button onClick={submitCheckout}>\n              Checkout\n            </button>\n            :\n            <span>(log in to check out)</span>\n        }\n      </div>\n    </div>\n  ) : (\n    <h3>\n      <span role=\"img\" aria-label=\"shocked\">\n        😱\n      </span>\n      You haven't added anything to your cart yet!\n    </h3>\n  )}\n</div>\n  );\n};\n\nexport default Cart;","import React from \"react\";\nimport ProductList from \"../components/ProductList\";\nimport CategoryMenu from \"../components/CategoryMenu\";\nimport Cart from \"../components/Cart\";\n\nconst Home = () => {\n  return (\n    <div className=\"container\">\n      <CategoryMenu />\n      <ProductList />\n      <Cart />\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { useQuery } from '@apollo/client';\n\nimport Cart from '../components/Cart';\nimport { useStoreContext } from '../utils/GlobalState';\nimport {\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  ADD_TO_CART,\n  UPDATE_PRODUCTS,\n} from '../utils/actions';\nimport { QUERY_PRODUCTS } from '../utils/queries';\nimport { idbPromise } from '../utils/helpers';\nimport spinner from '../assets/spinner.gif';\n\nfunction Detail() {\n  const [state, dispatch] = useStoreContext();\n  const { id } = useParams();\n\n  const [currentProduct, setCurrentProduct] = useState({});\n\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\n\n  const { products, cart } = state;\n\n  useEffect(() => {\n    // already in global store\n    if (products.length) {\n      setCurrentProduct(products.find((product) => product._id === id));\n    }\n    // retrieved from server\n    else if (data) {\n      dispatch({\n        type: UPDATE_PRODUCTS,\n        products: data.products,\n      });\n\n      data.products.forEach((product) => {\n        idbPromise('products', 'put', product);\n      });\n    }\n    // get cache from idb\n    else if (!loading) {\n      idbPromise('products', 'get').then((indexedProducts) => {\n        dispatch({\n          type: UPDATE_PRODUCTS,\n          products: indexedProducts,\n        });\n      });\n    }\n  }, [products, data, loading, dispatch, id]);\n\n  const addToCart = () => {\n    const itemInCart = cart.find((cartItem) => cartItem._id === id);\n    if (itemInCart) {\n      dispatch({\n        type: UPDATE_CART_QUANTITY,\n        _id: id,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n      idbPromise('cart', 'put', {\n        ...itemInCart,\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\n      });\n    } else {\n      dispatch({\n        type: ADD_TO_CART,\n        product: { ...currentProduct, purchaseQuantity: 1 },\n      });\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\n    }\n  };\n\n  const removeFromCart = () => {\n    dispatch({\n      type: REMOVE_FROM_CART,\n      _id: currentProduct._id,\n    });\n\n    idbPromise('cart', 'delete', { ...currentProduct });\n  };\n\n  return (\n    <>\n      {currentProduct && cart ? (\n        <div className=\"container my-1\">\n          <Link to=\"/\">← Back to Products</Link>\n\n          <h2>{currentProduct.name}</h2>\n\n          <p>{currentProduct.description}</p>\n\n          <p>\n            <strong>Price:</strong>${currentProduct.price}{' '}\n            <button onClick={addToCart}>Add to Cart</button>\n            <button\n              disabled={!cart.find((p) => p._id === currentProduct._id)}\n              onClick={removeFromCart}\n            >\n              Remove from Cart\n            </button>\n          </p>\n\n          <img\n            src={`/images/${currentProduct.image}`}\n            alt={currentProduct.name}\n          />\n        </div>\n      ) : null}\n      {loading ? <img src={spinner} alt=\"loading\" /> : null}\n      <Cart />\n    </>\n  );\n}\n\nexport default Detail;\n","import React from \"react\";\n\nfunction Jumbotron({ children }) {\n  return (\n    <div\n      style={{ height: 560, clear: \"both\", paddingTop: 120, textAlign: \"center\" }}\n    >\n      {children}\n    </div>\n  );\n}\n\nexport default Jumbotron;\n","import React from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\n\nconst NoMatch = () => {\n  return (\n    <div>\n      <Jumbotron>\n        <h1>404 Page Not Found</h1>\n        <h1>\n          <span role=\"img\" aria-label=\"Face With Rolling Eyes Emoji\">\n            🙄\n          </span>\n        </h1>\n      </Jumbotron>\n    </div>\n  );\n};\n\nexport default NoMatch;\n","import { gql } from '@apollo/client';\n\nexport const LOGIN = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n\nexport const ADD_ORDER = gql`\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n`;\n\nexport const ADD_USER = gql`\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n`;\n","import React, { useState } from 'react';\nimport { useMutation } from '@apollo/client';\nimport { Link } from 'react-router-dom';\nimport { LOGIN } from '../utils/mutations';\nimport Auth from '../utils/auth';\n\nfunction Login(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [login, { error }] = useMutation(LOGIN);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const mutationResponse = await login({\n        variables: { email: formState.email, password: formState.password },\n      });\n      const token = mutationResponse.data.login.token;\n      Auth.login(token);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/signup\">← Go to Signup</Link>\n\n      <h2>Login</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email address:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        {error ? (\n          <div>\n            <p className=\"error-text\">The provided credentials are incorrect</p>\n          </div>\n        ) : null}\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport Auth from '../utils/auth';\nimport { ADD_USER } from '../utils/mutations';\n\nfunction Signup(props) {\n  const [formState, setFormState] = useState({ email: '', password: '' });\n  const [addUser] = useMutation(ADD_USER);\n\n  const handleFormSubmit = async (event) => {\n    event.preventDefault();\n    const mutationResponse = await addUser({\n      variables: {\n        email: formState.email,\n        password: formState.password,\n        firstName: formState.firstName,\n        lastName: formState.lastName,\n      },\n    });\n    const token = mutationResponse.data.addUser.token;\n    Auth.login(token);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormState({\n      ...formState,\n      [name]: value,\n    });\n  };\n\n  return (\n    <div className=\"container my-1\">\n      <Link to=\"/login\">← Go to Login</Link>\n\n      <h2>Signup</h2>\n      <form onSubmit={handleFormSubmit}>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"firstName\">First Name:</label>\n          <input\n            placeholder=\"First\"\n            name=\"firstName\"\n            type=\"firstName\"\n            id=\"firstName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"lastName\">Last Name:</label>\n          <input\n            placeholder=\"Last\"\n            name=\"lastName\"\n            type=\"lastName\"\n            id=\"lastName\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            placeholder=\"youremail@test.com\"\n            name=\"email\"\n            type=\"email\"\n            id=\"email\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row space-between my-2\">\n          <label htmlFor=\"pwd\">Password:</label>\n          <input\n            placeholder=\"******\"\n            name=\"password\"\n            type=\"password\"\n            id=\"pwd\"\n            onChange={handleChange}\n          />\n        </div>\n        <div className=\"flex-row flex-end\">\n          <button type=\"submit\">Submit</button>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default Signup;\n","import React from \"react\";\nimport Auth from \"../../utils/auth\";\nimport { Link } from \"react-router-dom\";\n\nfunction Nav() {\n\n  function showNavigation() {\n    if (Auth.loggedIn()) {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-1\">\n            <Link to=\"/orderHistory\">\n              Order History\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            {/* this is not using the Link component to logout or user and then refresh the application to the start */}\n            <a href=\"/\" onClick={() => Auth.logout()}>\n              Logout\n            </a>\n          </li>\n        </ul>\n      );\n    } else {\n      return (\n        <ul className=\"flex-row\">\n          <li className=\"mx-1\">\n            <Link to=\"/signup\">\n              Signup\n            </Link>\n          </li>\n          <li className=\"mx-1\">\n            <Link to=\"/login\">\n              Login\n            </Link>\n          </li>\n        </ul>\n      );\n    }\n  }\n\n  return (\n    <header className=\"flex-row px-1\">\n      <h1>\n        <Link to=\"/\">\n          <span role=\"img\" aria-label=\"shopping bag\">🛍️</span>\n          -Shop-Shop\n        </Link>\n      </h1>\n\n      <nav>\n        {showNavigation()}\n      </nav>\n    </header>\n  );\n}\n\nexport default Nav;\n","import {\n  UPDATE_PRODUCTS,\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n  ADD_TO_CART,\n  ADD_MULTIPLE_TO_CART,\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  CLEAR_CART,\n  TOGGLE_CART\n} from './actions';\n\n\nconst defaultState = {\n  products: [],\n  cart: [],\n  cartOpen: false,\n  categories: [],\n  currentCategory: '',\n}\n\n\n\nconst reducer = (state=defaultState, action) => {\n  switch (action.type) {\n      //if action type value is the value of 'UPDATE_PRODUCTS', return a new state object with an updated products array \n      case UPDATE_PRODUCTS:\n          return {\n              ...state,\n              products: [...action.products]\n          };\n\n          //if action type value is value of 'UPDATE_CATEGORIES', return a new state object with an updated categories array\n      case UPDATE_CATEGORIES:\n          return {\n              ...state,\n              categories: [...action.categories]\n          };\n      \n      case UPDATE_CURRENT_CATEGORY: \n          return {\n              ...state,\n              currentCategory: action.currentCategory\n          };\n\n      case ADD_TO_CART: \n          return {\n              ...state,\n              cartOpen: true,\n              cart: [...state.cart, action.product]\n          };\n\n      case ADD_MULTIPLE_TO_CART:\n          return {\n              ...state,\n              cart: [...state.cart, ...action.products]\n          };\n\n      case REMOVE_FROM_CART:\n          let newState = state.cart.filter(product => {\n              return product._id !== action._id;\n          });\n          \n          return {\n              ...state,\n              cartOpen: newState.length > 0,\n              cart: newState\n          };\n\n      case UPDATE_CART_QUANTITY: \n          return {\n              ...state,\n              cartOpen: true,\n              cart: state.cart.map(product => {\n                  if(action._id === product._id) {\n                      product.purchaseQuantity = action.purchaseQuantity;\n                  }\n\n                  return product;\n              })\n          };\n\n      case CLEAR_CART:\n          return {\n              ...state,\n              cartOpen: false,\n              cart: []\n          };\n\n\n      case TOGGLE_CART:\n          return {\n              ...state,\n              cartOpen: !state.cartOpen\n          }\n\n      \n\n          //if it's none of these actions, do not update the state at all and keep things the same\n      default:\n          return state;\n  }\n}\n\n\nexport default reducer;","import { createStore } from 'redux';\nimport reducer from '../utils/reducers'\n\nconst store = createStore(reducer);\nexport default store;","import React, { useEffect } from 'react';\nimport { useMutation } from '@apollo/client';\nimport Jumbotron from '../components/Jumbotron';\nimport { ADD_ORDER } from '../utils/mutations';\nimport { idbPromise } from '../utils/helpers';\n\nfunction Success() {\n  const [addOrder] = useMutation(ADD_ORDER);\n\n  useEffect(() => {\n    async function saveOrder() {\n      const cart = await idbPromise('cart', 'get');\n      const products = cart.map((item) => item._id);\n\n      if (products.length) {\n        const { data } = await addOrder({ variables: { products } });\n        const productData = data.addOrder.products;\n\n        productData.forEach((item) => {\n          idbPromise('cart', 'delete', item);\n        });\n      }\n\n      setTimeout(() => {\n        window.location.assign('/');\n      }, 3000);\n    }\n\n    saveOrder();\n  }, [addOrder]);\n\n  return (\n    <div>\n      <Jumbotron>\n        <h1>Success!</h1>\n        <h2>Thank you for your purchase!</h2>\n        <h2>You will now be redirected to the home page</h2>\n      </Jumbotron>\n    </div>\n  );\n}\n\nexport default Success;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { useQuery } from '@apollo/client';\nimport { QUERY_USER } from '../utils/queries';\n\nfunction OrderHistory() {\n  const { data } = useQuery(QUERY_USER);\n  let user;\n\n  if (data) {\n    user = data.user;\n  }\n\n  return (\n    <>\n      <div className=\"container my-1\">\n        <Link to=\"/\">← Back to Products</Link>\n\n        {user ? (\n          <>\n            <h2>\n              Order History for {user.firstName} {user.lastName}\n            </h2>\n            {user.orders.map((order) => (\n              <div key={order._id} className=\"my-2\">\n                <h3>\n                  {new Date(parseInt(order.purchaseDate)).toLocaleDateString()}\n                </h3>\n                <div className=\"flex-row\">\n                  {order.products.map(({ _id, image, name, price }, index) => (\n                    <div key={index} className=\"card px-1 py-1\">\n                      <Link to={`/products/${_id}`}>\n                        <img alt={name} src={`/images/${image}`} />\n                        <p>{name}</p>\n                      </Link>\n                      <div>\n                        <span>${price}</span>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nexport default OrderHistory;\n","import React from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  createHttpLink,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\n\nimport Home from './pages/Home';\nimport Detail from './pages/Detail';\nimport NoMatch from './pages/NoMatch';\nimport Login from './pages/Login';\nimport Signup from './pages/Signup';\nimport Nav from './components/Nav';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport Success from './pages/Success';\nimport OrderHistory from './pages/OrderHistory';\n\nconst httpLink = createHttpLink({\n  uri: '/graphql',\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem('id_token');\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : '',\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nfunction App() {\n  return (\n    <ApolloProvider client={client}>\n      <Router>\n        <div>\n          <Provider store={store}>\n            <Nav />\n            <Routes>\n              <Route \n                path=\"/\" \n                element={<Home />} \n              />\n              <Route \n                path=\"/login\" \n                element={<Login />} \n              />\n              <Route \n                path=\"/signup\" \n                element={<Signup />} \n              />\n              <Route \n                path=\"/success\" \n                element={<Success />} \n              />\n              <Route \n                path=\"/orderHistory\" \n                element={<OrderHistory />} \n              />\n              <Route \n                path=\"/products/:id\" \n                element={<Detail />} \n              />\n              <Route \n                path=\"*\" \n                element={<NoMatch />} \n              />\n            </Routes>\n          </Provider>\n        </div>\n      </Router>\n    </ApolloProvider>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (\n    process.env.NODE_ENV === 'production' &&\n    'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n","// import React, { createContext, useContext } from \"react\";\n// import { useProductReducer } from './reducers'\n\n// const StoreContext = createContext();\n// const { Provider } = StoreContext;\n\n// const StoreProvider = ({ value = [], ...props }) => {\n//   const [state, dispatch] = useProductReducer({\n//     products: [],\n//     cart: [],\n//     cartOpen: false,\n//     categories: [],\n//     currentCategory: '',\n//   });\n\n//   return <Provider value={[state, dispatch]} {...props} />;\n// };\n\n// const useStoreContext = () => {\n//   return useContext(StoreContext);\n// };\n\n// export { StoreProvider, useStoreContext };\n","// extracted by mini-css-extract-plugin"]}}