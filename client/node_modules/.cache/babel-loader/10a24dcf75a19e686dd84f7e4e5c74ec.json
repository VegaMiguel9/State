{"ast":null,"code":"import _toConsumableArray from\"/Users/vega/bootcamp/hw/State/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/vega/bootcamp/hw/State/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{UPDATE_PRODUCTS,UPDATE_CATEGORIES,UPDATE_CURRENT_CATEGORY,ADD_TO_CART,ADD_MULTIPLE_TO_CART,REMOVE_FROM_CART,UPDATE_CART_QUANTITY,CLEAR_CART,TOGGLE_CART}from'./actions';var defaultState={products:[],cart:[],cartOpen:false,categories:[],currentCategory:''};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){//if action type value is the value of 'UPDATE_PRODUCTS', return a new state object with an updated products array \ncase UPDATE_PRODUCTS:return _objectSpread(_objectSpread({},state),{},{products:_toConsumableArray(action.products)});//if action type value is value of 'UPDATE_CATEGORIES', return a new state object with an updated categories array\ncase UPDATE_CATEGORIES:return _objectSpread(_objectSpread({},state),{},{categories:_toConsumableArray(action.categories)});case UPDATE_CURRENT_CATEGORY:return _objectSpread(_objectSpread({},state),{},{currentCategory:action.currentCategory});case ADD_TO_CART:return _objectSpread(_objectSpread({},state),{},{cartOpen:true,cart:[].concat(_toConsumableArray(state.cart),[action.product])});case ADD_MULTIPLE_TO_CART:return _objectSpread(_objectSpread({},state),{},{cart:[].concat(_toConsumableArray(state.cart),_toConsumableArray(action.products))});case REMOVE_FROM_CART:var newState=state.cart.filter(function(product){return product._id!==action._id;});return _objectSpread(_objectSpread({},state),{},{cartOpen:newState.length>0,cart:newState});case UPDATE_CART_QUANTITY:return _objectSpread(_objectSpread({},state),{},{cartOpen:true,cart:state.cart.map(function(product){if(action._id===product._id){product.purchaseQuantity=action.purchaseQuantity;}return product;})});case CLEAR_CART:return _objectSpread(_objectSpread({},state),{},{cartOpen:false,cart:[]});case TOGGLE_CART:return _objectSpread(_objectSpread({},state),{},{cartOpen:!state.cartOpen});//if it's none of these actions, do not update the state at all and keep things the same\ndefault:return state;}};export default reducer;","map":{"version":3,"names":["UPDATE_PRODUCTS","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","CLEAR_CART","TOGGLE_CART","defaultState","products","cart","cartOpen","categories","currentCategory","reducer","state","arguments","length","undefined","action","type","_objectSpread","_toConsumableArray","concat","product","newState","filter","_id","map","purchaseQuantity"],"sources":["/Users/vega/bootcamp/hw/State/client/src/utils/reducers.js"],"sourcesContent":["import {\n  UPDATE_PRODUCTS,\n  UPDATE_CATEGORIES,\n  UPDATE_CURRENT_CATEGORY,\n  ADD_TO_CART,\n  ADD_MULTIPLE_TO_CART,\n  REMOVE_FROM_CART,\n  UPDATE_CART_QUANTITY,\n  CLEAR_CART,\n  TOGGLE_CART\n} from './actions';\n\n\nconst defaultState = {\n  products: [],\n  cart: [],\n  cartOpen: false,\n  categories: [],\n  currentCategory: '',\n}\n\n\n\nconst reducer = (state=defaultState, action) => {\n  switch (action.type) {\n      //if action type value is the value of 'UPDATE_PRODUCTS', return a new state object with an updated products array \n      case UPDATE_PRODUCTS:\n          return {\n              ...state,\n              products: [...action.products]\n          };\n\n          //if action type value is value of 'UPDATE_CATEGORIES', return a new state object with an updated categories array\n      case UPDATE_CATEGORIES:\n          return {\n              ...state,\n              categories: [...action.categories]\n          };\n      \n      case UPDATE_CURRENT_CATEGORY: \n          return {\n              ...state,\n              currentCategory: action.currentCategory\n          };\n\n      case ADD_TO_CART: \n          return {\n              ...state,\n              cartOpen: true,\n              cart: [...state.cart, action.product]\n          };\n\n      case ADD_MULTIPLE_TO_CART:\n          return {\n              ...state,\n              cart: [...state.cart, ...action.products]\n          };\n\n      case REMOVE_FROM_CART:\n          let newState = state.cart.filter(product => {\n              return product._id !== action._id;\n          });\n          \n          return {\n              ...state,\n              cartOpen: newState.length > 0,\n              cart: newState\n          };\n\n      case UPDATE_CART_QUANTITY: \n          return {\n              ...state,\n              cartOpen: true,\n              cart: state.cart.map(product => {\n                  if(action._id === product._id) {\n                      product.purchaseQuantity = action.purchaseQuantity;\n                  }\n\n                  return product;\n              })\n          };\n\n      case CLEAR_CART:\n          return {\n              ...state,\n              cartOpen: false,\n              cart: []\n          };\n\n\n      case TOGGLE_CART:\n          return {\n              ...state,\n              cartOpen: !state.cartOpen\n          }\n\n      \n\n          //if it's none of these actions, do not update the state at all and keep things the same\n      default:\n          return state;\n  }\n}\n\n\nexport default reducer;"],"mappings":"2PAAA,OACEA,eAAe,CACfC,iBAAiB,CACjBC,uBAAuB,CACvBC,WAAW,CACXC,oBAAoB,CACpBC,gBAAgB,CAChBC,oBAAoB,CACpBC,UAAU,CACVC,WAAW,KACN,WAAW,CAGlB,GAAM,CAAAC,YAAY,CAAG,CACnBC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,EAAE,CACRC,QAAQ,CAAE,KAAK,CACfC,UAAU,CAAE,EAAE,CACdC,eAAe,CAAE,EACnB,CAAC,CAID,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAmC,IAA/B,CAAAC,KAAK,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAACR,YAAY,IAAE,CAAAW,MAAM,CAAAH,SAAA,CAAAC,MAAA,GAAAD,SAAA,IAAAE,SAAA,CACzC,OAAQC,MAAM,CAACC,IAAI,EACf;AACA,IAAK,CAAArB,eAAe,CAChB,OAAAsB,aAAA,CAAAA,aAAA,IACON,KAAK,MACRN,QAAQ,CAAAa,kBAAA,CAAMH,MAAM,CAACV,QAAQ,CAAC,GAGlC;AACJ,IAAK,CAAAT,iBAAiB,CAClB,OAAAqB,aAAA,CAAAA,aAAA,IACON,KAAK,MACRH,UAAU,CAAAU,kBAAA,CAAMH,MAAM,CAACP,UAAU,CAAC,GAG1C,IAAK,CAAAX,uBAAuB,CACxB,OAAAoB,aAAA,CAAAA,aAAA,IACON,KAAK,MACRF,eAAe,CAAEM,MAAM,CAACN,eAAe,GAG/C,IAAK,CAAAX,WAAW,CACZ,OAAAmB,aAAA,CAAAA,aAAA,IACON,KAAK,MACRJ,QAAQ,CAAE,IAAI,CACdD,IAAI,IAAAa,MAAA,CAAAD,kBAAA,CAAMP,KAAK,CAACL,IAAI,GAAES,MAAM,CAACK,OAAO,EAAC,GAG7C,IAAK,CAAArB,oBAAoB,CACrB,OAAAkB,aAAA,CAAAA,aAAA,IACON,KAAK,MACRL,IAAI,IAAAa,MAAA,CAAAD,kBAAA,CAAMP,KAAK,CAACL,IAAI,EAAAY,kBAAA,CAAKH,MAAM,CAACV,QAAQ,EAAC,GAGjD,IAAK,CAAAL,gBAAgB,CACjB,GAAI,CAAAqB,QAAQ,CAAGV,KAAK,CAACL,IAAI,CAACgB,MAAM,CAAC,SAAAF,OAAO,CAAI,CACxC,MAAO,CAAAA,OAAO,CAACG,GAAG,GAAKR,MAAM,CAACQ,GAAG,CACrC,CAAC,CAAC,CAEF,OAAAN,aAAA,CAAAA,aAAA,IACON,KAAK,MACRJ,QAAQ,CAAEc,QAAQ,CAACR,MAAM,CAAG,CAAC,CAC7BP,IAAI,CAAEe,QAAQ,GAGtB,IAAK,CAAApB,oBAAoB,CACrB,OAAAgB,aAAA,CAAAA,aAAA,IACON,KAAK,MACRJ,QAAQ,CAAE,IAAI,CACdD,IAAI,CAAEK,KAAK,CAACL,IAAI,CAACkB,GAAG,CAAC,SAAAJ,OAAO,CAAI,CAC5B,GAAGL,MAAM,CAACQ,GAAG,GAAKH,OAAO,CAACG,GAAG,CAAE,CAC3BH,OAAO,CAACK,gBAAgB,CAAGV,MAAM,CAACU,gBAAgB,CACtD,CAEA,MAAO,CAAAL,OAAO,CAClB,CAAC,CAAC,GAGV,IAAK,CAAAlB,UAAU,CACX,OAAAe,aAAA,CAAAA,aAAA,IACON,KAAK,MACRJ,QAAQ,CAAE,KAAK,CACfD,IAAI,CAAE,EAAE,GAIhB,IAAK,CAAAH,WAAW,CACZ,OAAAc,aAAA,CAAAA,aAAA,IACON,KAAK,MACRJ,QAAQ,CAAE,CAACI,KAAK,CAACJ,QAAQ,GAK7B;AACJ,QACI,MAAO,CAAAI,KAAK,CAAC,CAEvB,CAAC,CAGD,cAAe,CAAAD,OAAO"},"metadata":{},"sourceType":"module"}